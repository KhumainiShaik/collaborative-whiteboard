FROM node:18-alpine

WORKDIR /app

# Install yjs and y-websocket
RUN npm install yjs y-websocket

# Create startup script
RUN echo '#!/bin/sh\nnpx y-websocket --port 1234' > /start.sh && chmod +x /start.sh

EXPOSE 1234

CMD ["/start.sh"]
